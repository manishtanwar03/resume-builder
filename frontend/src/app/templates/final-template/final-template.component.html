<!-- filters -->
<app-filters [active]="resume?.filter?.index" [currentFont]="resume?.font" (filter)="updateFilter($event)" (font)="setFont($event)" *ngIf="loadingStatus && !view"></app-filters>
<div class="loader" *ngIf="!loadingStatus">
    <app-loader></app-loader>
</div>
<section class="layout" *ngIf="loadingStatus">
    <kendo-pdf-export #pdf paperSize="A2">
        <section *ngIf="template=='functional'" [class]="'functional '+resume?.font">
            <section class="resume z-depth-3">
                <!-- basic information -->
                <div mz-button mz-tooltip [tooltip]="view?'Add Comment':'Click To Edit'" [position]="'left'" [delay]="'0'" class="basic_information" [ngStyle]="{'background':resume?.filter?.heading}" (click)="goTo('basic-information')">
                    <div class="heading">
                        <h1 *ngIf="!resume?.basicInformation?.firstName">Manish Tanwar</h1>
                        <h1 *ngIf="resume?.basicInformation?.firstName || resume?.basicInformation?.lastName">
                            {{ resume?.basicInformation?.firstName|titlecase }} {{ resume?.basicInformation?.lastName|titlecase }}
                        </h1>
                        <h3 *ngIf="!resume?.basicInformation?.title" [ngStyle]="{'color':'white'}">Professional Title</h3>
                        <h3 *ngIf="resume?.basicInformation?.title" [ngStyle]="{'color':'white'}">{{ resume?.basicInformation?.title|titlecase }}</h3>
                        <p *ngIf="!resume?.basicInformation?.pitch">Short and engaging pitch about yourself</p>
                        <p *ngIf="resume?.basicInformation?.pitch">{{ resume?.basicInformation?.pitch |titlecase}}</p>
                    </div>
                    <div class="contact_details" [ngStyle]="{'background':resume?.filter?.subheading}">
                        <!-- email -->
                        <a *ngIf="!resume?.basicInformation?.email">
                            <img src="../../../assets/template/email.png"> manishkumar9999@gmail.com
                        </a>
                        <a *ngIf="resume?.basicInformation?.email">
                            <img src="../../../assets/template/email.png"> {{ resume?.basicInformation?.email }}
                        </a>
                        <!-- phone -->
                        <a *ngIf="!resume?.basicInformation?.phone">
                            <img src="../../../assets/template/phone.png"> +91-8168686868
                        </a>
                        <a *ngIf="resume?.basicInformation?.phone">
                            <img src="../../../assets/template/phone.png">{{ resume?.basicInformation?.phone }}
                        </a>
                    </div>
                </div>
                <!-- resume body -->
                <div class="row">
                    <div class="col s6">
                        <!-- left side -->
                        <!-- work experience -->
                        <div class="row">
                            <div class="col s12">
                                <!-- if work history present -->
                                <div mz-button mz-tooltip [tooltip]="view?'Add Comment':'Click To Edit'" [position]="'left'" class="base" *ngIf="resume?.workHistory && resume?.workHistory?.length>0" (click)="goTo('work-history')">
                                    <h1 [ngStyle]="{'color':resume?.filter?.subheading,'border-color':resume?.filter?.subheading}">WORK EXPERIENCE</h1>
                                    <div class="entry" *ngFor="let work of resume?.workHistory">
                                        <h1 *ngIf="work?.job_title">{{ work?.job_title|titlecase }}</h1>
                                        <h3 *ngIf="work?.employer">{{ work?.employer |titlecase}}</h3>
                                        <span *ngIf="work?.start_day" [ngStyle]="{'color':resume?.filter?.subheading}">{{ work?.start_day}}/</span>
                                        <span *ngIf="work?.start_month" [ngStyle]="{'color':resume?.filter?.subheading}">{{ work?.start_month }}/</span>
                                        <span *ngIf="work?.start_year" [ngStyle]="{'color':resume?.filter?.subheading}">{{ work?.start_year }} - </span>
                                        <span *ngIf="work?.end_day" [ngStyle]="{'color':resume?.filter?.subheading}">{{ work?.end_day }}/</span>
                                        <span *ngIf="work?.end_month" [ngStyle]="{'color':resume?.filter?.subheading}">{{ work?.end_month }}/</span>
                                        <span *ngIf="work?.end_year" [ngStyle]="{'color':resume?.filter?.subheading}">{{ work?.end_year }}</span>
                                        <p *ngIf="work?.description" [ngStyle]="{'color':resume?.filter?.subheading}">{{ work?.description |titlecase}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- education -->
                        <div class="row">
                            <div class="col s12">
                                <div mz-button mz-tooltip [tooltip]="view?'Add Comment':'Click To Edit'" [position]="'left'" class="base" *ngIf="resume?.education && resume?.education?.length>0" (click)="goTo('education')">
                                    <h1 [ngStyle]="{'color':resume?.filter?.subheading,'border-color':resume?.filter?.subheading}">Education</h1>
                                    <div class="entry" *ngFor="let school of resume?.education">
                                        <h1 *ngIf="school?.schoolName">{{ school?.schoolName |titlecase}} <span *ngIf="school?.location" [ngStyle]="{'color':resume?.filter?.subheading}">| {{school?.location|titlecase}}</span></h1>
                                        <h3 *ngIf="school?.degree">{{ school?.degree|titlecase }}</h3>
                                        <span *ngIf="school?.start_day" [ngStyle]="{'color':resume?.filter?.subheading}">{{ school?.start_day}}/</span>
                                        <span *ngIf="school?.start_month" [ngStyle]="{'color':resume?.filter?.subheading}">{{ school?.start_month }}/</span>
                                        <span *ngIf="school?.start_year" [ngStyle]="{'color':resume?.filter?.subheading}">{{ school?.start_year }} - </span>
                                        <span *ngIf="school?.end_day" [ngStyle]="{'color':resume?.filter?.subheading}">{{ school?.end_day }}/</span>
                                        <span *ngIf="school?.end_month" [ngStyle]="{'color':resume?.filter?.subheading}">{{ school?.end_month }}/</span>
                                        <span *ngIf="school?.end_year" [ngStyle]="{'color':resume?.filter?.subheading}">{{ school?.end_year }}</span>
                                        <p *ngIf="school?.description">{{ school?.description|titlecase }}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- interests -->
                        <div class="row">
                            <div class="col s12">
                                <div mz-button mz-tooltip [tooltip]="view?'Add Comment':'Click To Edit'" [position]="'left'" class="base" *ngIf="resume?.interests && resume?.interests?.length>0" (click)="goTo('interests')">
                                    <h1 [ngStyle]="{'color':resume?.filter?.subheading,'border-color':resume?.filter?.subheading}">INTERESTS</h1>
                                    <!-- interests here -->
                                    <div class="list">
                                        <div class="entry interest" *ngFor="let interest of resume?.interests">{{ interest | titlecase }}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- right side -->
                    <div class="col s6">
                        <!-- personal projects -->
                        <div class="row">
                            <div class="col s12">
                                <div mz-button mz-tooltip [tooltip]="view?'Add Comment':'Click To Edit'" [position]="'right'" class="base" *ngIf="resume?.projects && resume?.projects.length>0" (click)="goTo('projects')">
                                    <h1 [ngStyle]="{'color':resume?.filter?.subheading,'border-color':resume?.filter?.subheading}">PERSONAL PROJECTS</h1>
                                    <div class="entry" *ngFor="let project of resume?.projects">
                                        <h1 *ngIf="project?.projectTitle">{{ project?.projectTitle|titlecase }}</h1>
                                        <span *ngIf="project?.start_day" [ngStyle]="{'color':resume?.filter?.subheading}">{{ project?.start_day}}/</span>
                                        <span *ngIf="project?.start_month" [ngStyle]="{'color':resume?.filter?.subheading}">{{ project?.start_month }}/</span>
                                        <span *ngIf="project?.start_year" [ngStyle]="{'color':resume?.filter?.subheading}">{{ project?.start_year }} - </span>
                                        <span *ngIf="project?.end_day" [ngStyle]="{'color':resume?.filter?.subheading}">{{ project?.end_day }}/</span>
                                        <span *ngIf="project?.end_month" [ngStyle]="{'color':resume?.filter?.subheading}">{{ project?.end_month }}/</span>
                                        <span *ngIf="project?.end_year" [ngStyle]="{'color':resume?.filter?.subheading}">{{ project?.end_year }}</span>
                                        <p *ngIf="project?.description">{{ project?.description|titlecase }}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- skills -->
                        <div class="row">
                            <div class="col s12">
                                <div mz-button mz-tooltip [tooltip]="view?'Add Comment':'Click To Edit'" [position]="'right'" class="base" class="base" *ngIf="resume?.skills && resume?.skills?.length>0" (click)="goTo('skills')">
                                    <h1 [ngStyle]="{'color':resume?.filter?.subheading,'border-color':resume?.filter?.subheading}">SKILLS</h1>
                                    <!-- skills here -->
                                    <div class="list">
                                        <div class="entry skill" *ngFor="let skill of resume?.skills" [ngStyle]="{'background':resume?.filter?.subheading}">{{ skill | titlecase }}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- languages -->
                        <div class="row">
                            <div class="col s12">
                                <div mz-button mz-tooltip [tooltip]="view?'Add Comment':'Click To Edit'" [position]="'right'" class="base" class="base" *ngIf="resume?.languages && resume?.languages?.length>0">
                                    <h1 [ngStyle]="{'color':resume?.filter?.subheading,'border-color':resume?.filter?.subheading}">LANGUAGES</h1>
                                    <!-- languages here -->
                                    <div class="languages">
                                        <div class="language" *ngFor="let language of resume?.languages" (click)="goTo('languages')">
                                            <p>{{ language?.language | titlecase }}</p>
                                            <div class="progress">
                                                <div class="determinate" [ngStyle]="{ 'width':language?.value + '%','background':resume?.filter?.subheading}"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </section>




        <!-- template 2 -->
        <section class="simple" *ngIf="template=='simple'">
            <section class="resume z-depth-3">
                <!-- basic information -->
                <div class="basic_information" mz-button mz-tooltip [tooltip]="view?'Add Comment':'Click To Edit'" [position]="'left'" [delay]="'0'" (click)="goTo('basic-information')">
                    <div class="heading">
                        <h1 *ngIf="!resume?.basicInformation?.firstName">Manish Tanwar</h1>
                        <h1 *ngIf="resume?.basicInformation?.firstName || resume?.basicInformation?.lastName">
                            {{ resume?.basicInformation.firstName |titlecase }} {{ resume?.basicInformation?.lastName |titlecase }}
                        </h1>
                        <h3 *ngIf="!resume?.basicInformation?.title" [ngStyle]="{'color':resume?.filter?.heading}">Professional Title</h3>
                        <h3 *ngIf="resume?.basicInformation?.title" [ngStyle]="{'color':resume?.filter?.heading}">{{ resume?.basicInformation?.title |titlecase }}</h3>
                        <p *ngIf="!resume?.basicInformation?.pitch">Short and engaging pitch about yourself</p>
                        <p *ngIf="resume?.basicInformation?.pitch">{{ resume?.basicInformation?.pitch |titlecase }}</p>
                    </div>
                    <div class="contact_details" [ngStyle]="{'background':resume?.filter?.heading}">
                        <!-- email -->
                        <a *ngIf="!resume?.basicInformation?.email">
                            <img src="../../../assets/template/email.png"> manishkumar9999@gmail.com
                        </a>
                        <a *ngIf="resume?.basicInformation?.email">
                            <img src="../../../assets/template/email.png"> {{ resume?.basicInformation.email }}
                        </a>
                        <!-- phone -->
                        <a *ngIf="!resume?.basicInformation?.phone">
                            <img src="../../../assets/template/phone.png"> +91-8168686868
                        </a>
                        <a *ngIf="resume?.basicInformation?.phone">
                            <img src="../../../assets/template/phone.png">{{ resume?.basicInformation.phone }}
                        </a>
                    </div>
                </div>
                <!-- resume body -->
                <div class="row">
                    <div class="col s6">
                        <!-- left side -->
                        <!-- work experience -->
                        <div class="row">
                            <div class="col s12">
                                <!-- if work history present -->
                                <div class="base" *ngIf="resume?.workHistory?.length>0 " mz-button mz-tooltip [tooltip]="'Click To Edit'" [position]="'left'" [delay]="'0'" (click)="goTo('work-history')">
                                    <h1 [ngStyle]="{'color':resume?.filter?.heading}">WORK EXPERIENCE</h1>
                                    <div class="entry" *ngFor="let work of resume?.workHistory">
                                        <h1 *ngIf="work?.job_title">{{ work?.job_title |titlecase }}</h1>
                                        <h3 *ngIf="work?.employer">{{ work?.employer |titlecase }}</h3>
                                        <span *ngIf="work?.start_day" [ngStyle]="{'color':resume?.filter?.heading}">{{ work?.start_day}}/</span>
                                        <span *ngIf="work?.start_month" [ngStyle]="{'color':resume?.filter?.heading}">{{ work?.start_month }}/</span>
                                        <span *ngIf="work?.start_year" [ngStyle]="{'color':resume?.filter?.heading}">{{ work?.start_year }} - </span>
                                        <span *ngIf="work?.end_day" [ngStyle]="{'color':resume?.filter?.heading}">{{ work?.end_day }}/</span>
                                        <span *ngIf="work?.end_month" [ngStyle]="{'color':resume?.filter?.heading}">{{ work?.end_month }}/</span>
                                        <span *ngIf="work?.end_year" [ngStyle]="{'color':resume?.filter?.heading}">{{ work?.end_year }}</span>
                                        <p *ngIf="work?.description">{{ work?.description |titlecase }}</p>
                                        <span class="line" [ngStyle]="{'background':resume?.filter?.heading}"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- education -->
                        <div class="row">
                            <div class="col s12">
                                <!-- if education present -->
                                <div class="base" *ngIf="resume?.education?.length>0" mz-button mz-tooltip [tooltip]="view?'Add Comment':'Click To Edit'" [position]="'left'" [delay]="'0'" (click)="goTo( 'education') ">
                                    <h1 [ngStyle]="{'color':resume?.filter?.heading}">Education</h1>
                                    <div class="entry" *ngFor="let school of resume?.education">
                                        <h1 *ngIf="school?.schoolName">{{ school?.schoolName |titlecase }} <span *ngIf="school?.location" style="margin-left:6px;" [ngStyle]="{'color':resume?.filter?.heading}">| {{school?.location |titlecase}}</span></h1>
                                        <h3 *ngIf=" school?.degree ">{{ school?.degree |titlecase }}</h3>
                                        <span *ngIf="school?.start_day " [ngStyle]="{ 'color':resume?.filter?.heading} ">{{ school?.start_day}}/</span>
                                        <span *ngIf="school?.start_month " [ngStyle]="{ 'color':resume?.filter?.heading} ">{{ school?.start_month }}/</span>
                                        <span *ngIf="school?.start_year " [ngStyle]="{ 'color':resume?.filter?.heading} ">{{ school?.start_year }} - </span>
                                        <span *ngIf="school?.end_day " [ngStyle]="{ 'color':resume?.filter?.heading} ">{{ school?.end_day }}/</span>
                                        <span *ngIf="school?.end_month " [ngStyle]="{ 'color':resume?.filter?.heading} ">{{ school?.end_month }}/</span>
                                        <span *ngIf="school?.end_year " [ngStyle]="{ 'color':resume?.filter?.heading} ">{{ school?.end_year }}</span>
                                        <p *ngIf="school?.description ">{{ school?.description |titlecase }}</p>
                                        <span class="line " [ngStyle]="{ 'background':resume?.filter?.heading} "></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- interests -->
                        <div class="row ">
                            <div class="col s12 ">
                                <!-- if projects present -->
                                <div class="base " *ngIf="resume?.projects?.length>0" mz-button mz-tooltip [tooltip]="view?'Add Comment':'Click To Edit'" [position]="'left'" [delay]="'0'" (click)="goTo('projects')">
                                    <h1 [ngStyle]="{'color':resume?.filter?.heading}">PERSONAL PROJECTS</h1>
                                    <div class="entry" *ngFor="let project of resume?.projects">
                                        <h1 *ngIf="project?.projectTitle">{{ project?.projectTitle |titlecase }}</h1>
                                        <span *ngIf="project?.start_day" [ngStyle]="{'color':resume?.filter?.heading}">{{ project?.start_day}}/</span>
                                        <span *ngIf="project?.start_month" [ngStyle]="{'color':resume?.filter?.heading}">{{ project?.start_month }}/</span>
                                        <span *ngIf="project?.start_year" [ngStyle]="{'color':resume?.filter?.heading}">{{ project?.start_year }} - </span>
                                        <span *ngIf="project?.end_day" [ngStyle]="{'color':resume?.filter?.heading}">{{ project?.end_day }}/</span>
                                        <span *ngIf="project?.end_month" [ngStyle]="{'color':resume?.filter?.heading}">{{ project?.end_month }}/</span>
                                        <span *ngIf="project?.end_year" [ngStyle]="{'color':resume?.filter?.heading}">{{ project?.end_year }}</span>
                                        <p *ngIf="project?.description">{{ project?.description |titlecase }}</p>
                                        <span class="line" [ngStyle]="{'background':resume?.filter?.heading}"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- right side -->
                    <div class="col s6">
                        <!-- personal projects -->
                        <div class="row">
                            <div class="col s12">
                                <!-- if present -->
                                <div class="base" *ngIf="resume?.interests?.length>0" mz-button mz-tooltip [tooltip]="view?'Add Comment':'Click To Edit'" [position]="'right'" [delay]="'0'" (click)="goTo('interests')">
                                    <h1 [ngStyle]="{'color':resume?.filter?.heading}">INTERESTS</h1>
                                    <!-- interests here -->
                                    <div class="list">
                                        <div class="entry interest" *ngFor="let interest of resume?.interests">{{ interest | titlecase }}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- skills -->
                        <div class="row">
                            <div class="col s12">
                                <!-- if skill present -->
                                <div class="base" *ngIf="resume?.skills?.length>0" mz-button mz-tooltip [tooltip]="view?'Add Comment':'Click To Edit'" [position]="'right'" [delay]="'0'" (click)="goTo('skills')">
                                    <h1 [ngStyle]="{'color':resume?.filter?.heading}">SKILLS</h1>
                                    <!-- skills here -->
                                    <div class="list">
                                        <div class="entry skill" *ngFor="let skill of resume?.skills" [ngStyle]="{'background':resume?.filter?.heading}">{{ skill | titlecase }}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- languages -->
                        <div class="row">
                            <div class="col s12">
                                <!-- if language present -->
                                <div class="base" *ngIf="resume?.languages?.length>0" mz-button mz-tooltip [tooltip]="view?'Add Comment':'Click To Edit'" [position]="'right'" [delay]="'0'" (click)="goTo('languages')">
                                    <h1 [ngStyle]="{'color':resume?.filter?.heading}">LANGUAGES</h1>
                                    <!-- languages here -->
                                    <div class="languages">
                                        <div class="language" *ngFor="let language of resume?.languages">
                                            <p>{{ language.language | titlecase }}</p>
                                            <div class="progress">
                                                <div class="determinate" [ngStyle]="{ 'width':language?.value + '%', 'background':resume?.filter?.heading}"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </section>
    </kendo-pdf-export>
    <div class="download_button" *ngIf="loadingStatus">
        <button mz-button mz-tooltip [tooltip]="'Download Resume'" [position]="'left'" [delay]="'0'" type='button' class="btn-floating btn-large waves-effect waves-light green" kendo-button (click)="pdf.saveAs('resume.pdf')"><i class="material-icons">file_download</i></button>
    </div>
    <div class="share_button">
            <a mz-button mz-tooltip [tooltip]="'Share Resume'" [position]="'left'" [delay]="'0'" class="btn-floating btn-large waves-effect waves-light blue" (click)="shareResume()"><i class="material-icons">share</i></a>
    </div>
    <div class="save_button">
        <button mz-button mz-tooltip [tooltip]="'Save Changes'" [position]="'left'" [delay]="'0'" class="btn-floating btn-large waves-effect waves-light teal pulse" (click)="saveChanges()"><i class="material-icons">save</i></button>
    </div>
</section>

<div class="home_button">
    <a class="btn-floating btn-large waves-effect waves-light teal" [routerLink]="['/dashboard']"><i class="material-icons">home</i></a>
</div>